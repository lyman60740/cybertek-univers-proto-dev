<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Web site created using create-react-app" />

    <title>Prototype Cybertek Simracing</title>
    
  </head>
  <body>
    <!-- https://cybertek-r3f-carshow.vercel.app -->
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div class="us-container">
      <div class="carshow-container" >
        <div id="root" ></div>
          
          <div class="feature-box">
              <img src="https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/cybertek.png" alt="" class="logo-cyb">
              <span class="sep">X</span>
              <img src="https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/alpine1.png" alt="" class="logo-alp">
          </div>
  
          <div class="container__bloc-txt autosize-container">
              <article id="_ctl0_ContentPlaceHolder1_ListeArticles_DiaporamaRepeater__ctl0_Wrapper" class="cbk_diaporama-produit-sm__wrapper">
                <div class="cbk_diaporama-produit-sm__left-wrapper">
                    <div class="cbk_diaporama-produit-sm__image-container">
                        
                    </div>
                </div>
                <div class="cbk_diaporama-produit-sm__right-wrapper bloc-txt carshow-txt-1">
                    <div class="cbk_diaporama-produit-sm__content-wrapper">
                        <h3 class="cbk_diaporama-produit-sm__title">
                            Bundle Logitech 
                        </h3>
                        <p ><span style="font-family: Outfit, sans-serif; font-size: 13px;">BLOC 1</span></p>
                    </div>
                    
                </div>
                <div class="cbk_diaporama-produit-sm__right-wrapper bloc-txt carshow-txt-2">
                    <div class="cbk_diaporama-produit-sm__content-wrapper">
                        <h3 class="cbk_diaporama-produit-sm__title">
                            Bundle Logitech 
                        </h3>
                        <p ><span style="font-family: Outfit, sans-serif; font-size: 13px;">BLOC 2</span></p>
                    </div>
                    
                </div>
                <div class="cbk_diaporama-produit-sm__right-wrapper bloc-txt carshow-txt-3">
                    <div class="cbk_diaporama-produit-sm__content-wrapper">
                        <h3 class="cbk_diaporama-produit-sm__title">
                            Bundle Logitech 
                        </h3>
                        <p ><span style="font-family: Outfit, sans-serif; font-size: 13px;">BLOC 3</span></p>
                    </div>
                    
                </div>
                <div class="cbk_diaporama-produit-sm__right-wrapper bloc-txt carshow-txt-4">
                    <div class="cbk_diaporama-produit-sm__content-wrapper">
                        <h3 class="cbk_diaporama-produit-sm__title">
                            Bundle Logitech 
                        </h3>
                        <p ><span style="font-family: Outfit, sans-serif; font-size: 13px;">BLOC 4</span></p>
                    </div>
                    
                </div>
                <div class="cbk_diaporama-produit-sm__right-wrapper bloc-txt carshow-txt-4">
                    <div class="cbk_diaporama-produit-sm__content-wrapper">
                        <h3 class="cbk_diaporama-produit-sm__title">
                            Bundle Logitech 
                        </h3>
                        <p ><span style="font-family: Outfit, sans-serif; font-size: 13px;">BLOC 4</span></p>
                    </div>
                    
                </div>
                <div class="cbk_diaporama-produit-sm__right-wrapper bloc-txt carshow-txt-4">
                    <div class="cbk_diaporama-produit-sm__content-wrapper">
                        <h3 class="cbk_diaporama-produit-sm__title">
                            Bundle Logitech 
                        </h3>
                        <p ><span style="font-family: Outfit, sans-serif; font-size: 13px;">BLOC 4</span></p>
                    </div>
                    
                </div>
            </article>
          </div>
      </div>

      <!-- <div class="loader-wrap">
        <div class="us-loader">
          <div></div>
          <span></span>
        </div>
      </div> -->
      <div class="hero-banner">
        <div class="overlay-hero-banner"></div>
        <div id="cadres"></div>
        <h1>Plongez au coeur de l'univers SimRacing</h1>
        <ul>
          <div class="cat-line">
            <div></div>
            <div></div>
          </div>
        </ul>
      </div>

      <div class="cat-3d-container">
        <div class="cat-3d">
          <div class="cat-3d__wrapper">
            <h2>Bien choisir son setup</h2>
            <div class="cat-3d__top">
              <div class="cat-3d__top__name">
                <div class="cat-3d__top__name__wrapper">
                  <span id="cat-index">(00)</span>
                  <span id="cat-name">Set up SimRacing</span>
                </div>
              </div>

              <div class="cat-3d__top__product">
                <div class="cat-3d__top__product__wrapper">
                  <div id="category"></div>
                 
                </div>
              </div>

              <div class="cat-3d__top__description">
                <svg xmlns="http://www.w3.org/2000/svg" width="94" height="58" viewBox="0 0 94 58" fill="none">
                  <path d="M28.5528 1.27639H93.0528M29 1L1 57" stroke="white" stroke-width="2" stroke-linecap="round" />
                </svg>

                <p id="cat-content">
                  
                </p>
              </div>

              <a href="" class="cat-3d__redirect" id="cat-link">
                <span>Voir tous nos produits</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path d="M6.4 18L16 8.4V17H18V5H6V7H14.6L5 16.6L6.4 18Z" fill="white" />
                </svg>
              </a>
            </div>

            <div class="cat-3d__bot">
              <ul>
                <!-- INSERTION DATA DYNAMIQUE -->
              </ul>
            </div>
          </div>
        </div>
        <div class="cat-3d__bg">
          <div class="cat-3d__bg__overlay"></div>
          <img src="https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/bg-pneu.png" alt="" />
        </div>
      </div>

      <div class="cat-3d-mobile">
        <ul>
          <!-- INSERTION DATA -->
        </ul>
      </div>

      <div class="next-section">
        <span>NEXT SECTION</span>
      </div>

      

      <div class="next-section">
        <span>NEXT SECTION</span>
      </div>
    </div>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"
      integrity="sha512-7eHRwcbYkK4d9g/6tD/mhkf++eoTHwpNM9woBxtPUBWm67zeAfFC+HrdoE2GanKeocly/VxeLvIqwvCdk7qScg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script>
      if ('scrollRestoration' in window.history) {
        window.history.scrollRestoration = 'manual';
      }
      window.scrollTo(0, 0);
    </script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        let isLoaded = false
        const title = document.querySelector('h1')
        const usLoader = document.querySelector('.us-loader')
        const loaderWrap = document.querySelector('.loader-wrap')
        const usLoaderDiv = document.querySelector('.us-loader div')
        const usLoaderSpan = document.querySelector('.us-loader span')
        const catLine = document.querySelector('.cat-line')
        const catLineDivs = gsap.utils.toArray('.cat-line div')
        const lis = gsap.utils.toArray('.hero-banner ul li span')
        const lisDiv = gsap.utils.toArray('.hero-banner ul li div')

        gsap.set(title, {
          y: 20
        })
        gsap.set(usLoaderDiv, {
          scaleX: 0
        })
        gsap.set(usLoaderSpan, { textContent: '0%' })

        const tl = gsap.timeline()
        tl.to(usLoaderDiv, {
          scaleX: 1,
          ease: 'power3.inOut',
          duration: 3.5,
          onUpdate: function () {
            const progress = Math.round(this.progress() * 100)
            usLoaderSpan.textContent = `${progress}%`
          }
        })
        tl.to(
          ':root',
          {
            '--leftSpan': '95vw',
            ease: 'power3.inOut',
            duration: 3.5
          },
          '<'
        )
        tl.to(loaderWrap, {
          autoAlpha: 0,
          ease: 'linear',
          duration: 0.5,
          onComplete: () => {
            window.isLoaded = true
            window.dispatchEvent(new CustomEvent('loaded'))
          }
        }).to(title, {
          autoAlpha: 1,
          y: 0,
          duration: 0.5
        })
        tl.to(
          catLine,
          {
            scaleX: 1,
            ease: 'power3.inOut',
            duration: 1
          },
          '<'
        )
          .to(
            catLineDivs,
            {
              scaleY: 1,
              ease: 'power3.inOut',
              duration: 0.5
            },
            '<30%'
          )
          .to(
            lisDiv,
            {
              scaleY: 1,
              ease: 'power3.inOut',
              duration: 0.5,
              stagger: 0.1
            },
            '<50%'
          )
          .to(
            lis,
            {
              autoAlpha: 1,
              yPercent: 0,
              duration: 0.5
            },
            '<'
          )
      })
    </script>

    <script>
      gsap.registerPlugin(ScrollTrigger)

      const dataCadres = [
        {
          name: 'Base de volant PC',
          link: 'https://www.cybertek.fr/Base-de-volant-Simracing-159.aspx'
        },
        {
          name: 'Volant PC',
          link: 'https://www.cybertek.fr/volant-pc-160.aspx'
        },
        {
          name: 'Pédalier Simracing',
          link: 'https://www.cybertek.fr/pedalier-simracing-161.aspx'
        },
        {
          name: 'Frein à Main PC',
          link: 'https://www.cybertek.fr/frein-à-main-162.aspx'
        },
        {
          name: 'Levier de Vitesse PC',
          link: 'https://www.cybertek.fr/Levier-de-Vitesse-PC-163.aspx'
        },
        {
          name: 'Accessoires gaming',
          link: 'https://www.cybertek.fr/Accessoires-Simracing-164.aspx'
        },
        {
          name: 'Pack Simracing',
          link: 'https://www.cybertek.fr/Pack-Simracing-165.aspx'
        },
        {
          name: 'Chassis Simracing',
          link: 'https://www.cybertek.fr/Chassis-Simracing-166.aspx'
        }
      ]

      // CATEGORY

      const dataCat = [
  {
    name: 'Base de volant PC',
    content:
      "La <strong>base de volant simracing</strong> va gérer le <strong>retour de force</strong>, indispensable à coupler avec son volant PC, pour les sensations de jeu et le pilotage <strong>réaliste.</strong>",
    image:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/base_de_volant.webp',
    link: 'https://www.cybertek.fr/Base-de-volant-Simracing-159.aspx',
    plaque:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/plaque_01.png'
  },
  {
    name: 'Volant PC',
    content:
      "Au centre du setup, un <strong>volant</strong> pour <strong>simracing</strong> de qualité <strong>retransmet chaque virage</strong> et aspérité avec son <strong>retour de force</strong> réglable puissant.",
    image:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/volant1.webp',
    link: 'https://www.cybertek.fr/volant-pc-160.aspx',
    plaque:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/plaque_02.png'
  },
  {
    name: 'Pédalier Simracing',
    content:
      "Un <strong>pédalier simracing</strong> de qualité reproduit le <strong>freinage, l'accélération</strong> avec précision et réalisme, essentiels pour contrôler la voiture avec finesse.",
    image:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/pedalier1.webp',
    link: 'https://www.cybertek.fr/pedalier-simracing-161.aspx',
    plaque:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/plaque_03.png'
  },
  {
    name: 'Frein à main PC',
    content:
      "Indispensable en spéciale de rallye ou Gymkhana ; le <strong>frein à main simracing</strong> offre <strong>réactivité</strong> et <strong>grip</strong> pour renforcer le réalisme de ton expérience simracing.",
    image:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/frein_a_main.webp',
    link: 'https://www.cybertek.fr/frein-à-main-162.aspx',
    plaque:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/plaque_04.png'
  },
  {
    name: 'Levier de vitesse simracing',
    content:
      "N'oublions pas les puristes; <strong>un levier de vitesse simracing</strong> promet <strong>précision</strong> dans les rapports, et le <strong>confort</strong> d'utilisation, avec un réalisme troublant.",
    image:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/boite_de_vitesse1.webp',
    link: 'https://www.cybertek.fr/Levier-de-Vitesse-PC-163.aspx',
    plaque:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/plaque_05.png'
  },
  {
    name: 'Accessoires simracing',
    content:
      "Support d'écran pour châssis, tapis de sol, gants, dashboard… <strong>personnalise chaque détail</strong> de ton setup simracing !",
    image:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/accessoires.webp',
    link: 'https://www.cybertek.fr/Accessoires-Simracing-164.aspx',
    plaque:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/plaque_06.png'
  },
  {
    name: 'Pack Simracing',
    content:
      "Opte pour des <strong>packs Simracing</strong> et <strong>simplifie-toi la vie</strong> avec des accessoires conçus pour ton simulateur, sans souci de compatibilité.",
    image:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/bundle.webp',
    link: 'https://www.cybertek.fr/Pack-Simracing-165.aspx',
    plaque:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/plaque_07.png'
  },
  {
    name: 'Châssis',
    content:
      "Le <strong>châssis Simracing</strong> fixe <strong>pédalier, siège</strong> et <strong>volant simracing</strong> pour une parfaite stabilité. Il améliore le confort et <strong>réduit les vibrations</strong> pour plonger dans l'ambiance.",
    image:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/chassis.webp',
    link: 'https://www.cybertek.fr/Chassis-Simracing-166.aspx',
    plaque:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/plaque_08.png'
  },
  {
    name: 'Écrans PC',
    content:
      "Un <strong>écran</strong> pour simracing améliore grandement la simulation. Choisir son écran selon son châssis est essentiel pour garantir compatibilité et <strong>qualité de jeu</strong>.",
    image:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/ecran.webp',
    link: 'https://www.cybertek.fr/ecran-pc-62.aspx',
    plaque:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/plaque_09.png'
  },
  {
    name: 'PC Gamer',
    content:
      "Un <strong>PC Gamer</strong> performant garantit une <strong>fluidité parfaite</strong>, des temps de réponse rapides et est compatible avec tous les accessoires et périphériques simracing.",
    image:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/pc_gamer.webp',
    link: 'https://www.cybertek.fr/univers-gamer/pc-assembles',
    plaque:
      'https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/plaque_10.png'
  }
];




      // Déclarez un flag global pour suivre l'état de l'animation
      let isAnimating = false

      function animateCategoryImage(newImageUrl, newPlaqueUrl) {
  if (isAnimating) return;
  isAnimating = true;

  const categoryDiv = document.getElementById('category');
  const currentMainImg = categoryDiv.querySelector('img.main-img-cat');
  const currentPlaqueImg = categoryDiv.querySelector('img.plaque');

  // Création de la nouvelle image principale
  const newImg = document.createElement('img');
  newImg.src = newImageUrl;
  newImg.className = 'main-img-cat';
  newImg.style.position = 'absolute';
  newImg.style.left = '0';
  newImg.style.width = '100%';
  newImg.style.height = '100%';
  newImg.style.transform = 'translateY(100%)';
  newImg.style.zIndex = '2';

  // Création de la nouvelle image plaque
  const newPlaque = document.createElement('img');
  newPlaque.src = newPlaqueUrl;
  newPlaque.className = 'plaque';


  // Si une image actuelle existe, on lui assigne un z-index inférieur
  if (currentMainImg) currentMainImg.style.zIndex = '1';
  if (currentPlaqueImg) currentPlaqueImg.style.zIndex = '1';

  // Ajoute les nouvelles images dans le conteneur
  categoryDiv.appendChild(newImg);
  categoryDiv.appendChild(newPlaque);

  const tl = gsap.timeline({
    onComplete: () => {
      if (currentMainImg) currentMainImg.remove();
      if (currentPlaqueImg) currentPlaqueImg.remove();

      // Réinitialise les styles inline pour revenir aux styles par défaut (ou CSS)
   
      isAnimating = false;
    }
  });

  if (currentMainImg) {
    tl.to(currentMainImg, { scale: '0.7', duration: 0.5, ease: 'power2.out' });
  }
  tl.fromTo(newImg, { y: '100%' }, { y: '0%', duration: 0.5, ease: 'power2.out' }, '<10%')
    .fromTo(newPlaque, { y: 50, autoAlpha: 0 }, { y: 0,autoAlpha: 1 , duration: 0.5, ease: 'power2.out' }, '<50%');
}

      const mm = gsap.matchMedia()

      // ✅ Sélecteurs
      const liBox = document.querySelector('.cat-3d__bot ul')
      const catIndex = document.getElementById('cat-index')
      const catName = document.getElementById('cat-name')
      const catContent = document.getElementById('cat-content')
      const catLink = document.getElementById('cat-link')

      // Cadres

      const ulCadres = document.querySelector('.hero-banner ul')

      dataCadres.forEach((item) => {
        ulCadres.insertAdjacentHTML('beforeend', `<a href="${item.link}" target="_blank"><li><span>${item.name}</span><div></div></li></a>`)
      })

      //Categories

      mm.add('(min-width: 1000px)', () => {
        // ✅ Insère dynamiquement les <li>
        for (let i = 0; i < dataCat.length; i++) {
          liBox.insertAdjacentHTML(
            'beforeend',
            `
    <li class="cat-item" data-index="${i}">
      <div class="cat-3d__bot__infos">
        <span>${(i + 1).toString().padStart(2, '0')}.</span>
        <span>${dataCat[i].name}</span>
      </div>
      <div class="cat-3d__bot__point"><div></div></div>
    </li>
  `
          )
        }

        // ✅ Ajoute l'événement click sur chaque <li>
        const items = document.querySelectorAll('.cat-item')

        // Variable globale pour stocker l'index de l'élément cliqué
        let selectedIndex = null

        items.forEach((item) => {
  // Click : met à jour le contenu et définit l'élément sélectionné
  item.addEventListener('click', () => {
    // Ne rien faire si l'élément cliqué est déjà sélectionné
    if (selectedIndex === item.dataset.index) return;
    if (isAnimating) return;

    const index = item.dataset.index;
    selectedIndex = index; // Stocke l'élément cliqué

    // Met à jour les contenus
    catIndex.textContent = `(${(parseInt(index) + 1).toString().padStart(2, '0')})`; // Numéro
    catName.textContent = dataCat[index].name;            // Nom
    catContent.innerHTML = dataCat[index].content;      // Description
    catLink.href = dataCat[index].link;

    gsap.fromTo(
      [catIndex, catName, catContent],
      { opacity: 0, y: 20 },
      { opacity: 1, y: 0, duration: 0.7, ease: 'power2.out', stagger: 0.1 }
    );

    // Anime tous les points à -200%
    const targetEl = item.querySelector('.cat-3d__bot__point div');
    document.querySelectorAll('.cat-3d__bot__point div').forEach((el) => {
      if (el !== targetEl) {
        gsap.to(el, {
          xPercent: -200,
          duration: 0.5,
          ease: 'expo.out'
        });
      }
    });
    // Et celui de l'élément cliqué à 0%
    gsap.to(item.querySelector('.cat-3d__bot__point div'), {
      xPercent: 0,
      duration: 0.5,
      ease: 'expo.out'
    });

    animateCategoryImage(dataCat[index].image, dataCat[index].plaque);
  });

  // Hover : quand on entre sur un élément
  item.addEventListener('mouseenter', () => {
    // On anime tous les points des éléments non sélectionnés vers -200%
    document.querySelectorAll('.cat-item').forEach((el) => {
      if (el.dataset.index !== selectedIndex) {
        gsap.to(el.querySelector('.cat-3d__bot__point div'), {
          xPercent: -200,
          duration: 0.5,
          ease: 'expo.out'
        });
      }
    });
    // Et pour l'élément survolé, on l'anime vers 0 si ce n'est pas déjà sélectionné
    if (item.dataset.index !== selectedIndex) {
      gsap.to(item.querySelector('.cat-3d__bot__point div'), {
        xPercent: 0,
        duration: 0.5,
        ease: 'expo.out'
      });
    }
  });

  // Mouseleave : quand on quitte un élément
  item.addEventListener('mouseleave', () => {
    // Si l'élément quitté n'est pas le sélectionné, on ramène son point à -200%
    if (item.dataset.index !== selectedIndex) {
      gsap.to(item.querySelector('.cat-3d__bot__point div'), {
        xPercent: -200,
        duration: 0.5,
        ease: 'expo.out'
      });
    }
  });
});

if (items.length > 0) {
  items[0].click();
}

      })

      // LOGIQUE MOBILE

      mm.add('(max-width: 999px)', () => {
        const mobileList = document.querySelector('.cat-3d-mobile ul')

        // ✅ Génère dynamiquement les catégories mobiles
        dataCat.forEach((data, i) => {
          mobileList.insertAdjacentHTML(
            'beforeend',
            `
       <li>
           <div class="cat-3d-mobile__top">
             <div class="cat-3d-mobile__top__name">
               <span>${(i + 1).toString().padStart(2, '0')}.</span>
               <span>${data.name}</span>
             </div>
             <div class="cat-3d__bot__point"></div>
           </div>
           <div class="cat-3d-mobile__content">
             <div class="cat-3d-mobile__content__img">
               <div class="cat-3d-mobile__img-wrap">
                 <img src="${data.image}" alt="">
               </div>
             </div>
    
             <div class="cat-3d__top__description">
               <svg xmlns="http://www.w3.org/2000/svg" width="39" height="25" viewBox="0 0 39 25" fill="none">
                 <path d="M12.374 1.11352H39M12.5586 1L1 24" stroke="#D9D9D9" stroke-width="1"/>
               </svg>
               
               <p id="cat-content">${data.content}</p>
             </div>
             <a href="${data.link}" class="cat-3d__redirect" id="cat-link">
               <span>Voir tous nos produits</span>
               <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15" fill="none">
                 <path d="M4 11.25L10 5.25V10.625H11.25V3.125H3.75V4.375H9.125L3.125 10.375L4 11.25Z" fill="white"/>
               </svg>
             </a>
           </div>
         </li>
     `
          )
        })

        const mobileItems = document.querySelectorAll('.cat-3d-mobile ul li')

        mobileItems.forEach((item) => {
          const itemHeight = item.querySelector('.cat-3d-mobile__content').offsetHeight

          item.style.maxHeight = '62px'

          item.addEventListener('click', () => {
            gsap.to(mobileItems, {
              'max-height': 62,
              duration: 0.5,
              ease: 'expo.out'
            })
            gsap.to(item, {
              'max-height': itemHeight + 62,
              duration: 0.5,
              ease: 'expo.out'
            })
            gsap.to(document.querySelectorAll('.cat-3d__bot__point'), {
              background: 'rgba(0,0,0,0)',
              duration: 0.5,
              ease: 'expo.out'
            })
            gsap.to(item.querySelector('.cat-3d__bot__point'), {
              background: '#FFCF00',
              duration: 0.5,
              ease: 'expo.out'
            })
          })
        })
      })

      // ✅ Animation pour chaque <li> indépendamment
      gsap.utils.toArray('.cat-3d-mobile ul li').forEach((item) => {
        gsap.fromTo(
          item,
          {
            opacity: 0,
            y: 20
          },
          {
            opacity: 1,
            y: 0,
            duration: 0.7,
            ease: 'power2.out',
            scrollTrigger: {
              trigger: item,
              start: 'top 90%',
              end: 'bottom bottom',
              toggleActions: 'play none none reverse',
              markers: false
            }
          }
        )
      })

      // Animation linear bg

      gsap.fromTo(
        '.cat-3d__bg__overlay',
        {
            '--gradientStop1': '5%',
            '--gradientStop2': '10%',
            '--gradientStop3': '50%'
        },
        {
            '--gradientStop1': '70%',
            '--gradientStop2': '85%',
            '--gradientStop3': '95%',

            scrollTrigger: {
                scrub: 2,
                trigger: '.cat-3d',
                start: 'top top',
                end: 'bottom center',
                toggleActions: 'play none none reverse',
                markers: false
            }
        }
    )

      const paths = document.querySelectorAll('.cat-3d__top__description svg path')

      // ✅ Calcule la longueur de chaque chemin et anime

      //   paths.forEach(path => {
      //     const length = path.getTotalLength(); // 📏 Obtiens la longueur du chemin
      //     gsap.set(path, {
      //       strokeDasharray: length,   // Fait correspondre la longueur totale
      //       strokeDashoffset: length   // Cache complètement la ligne
      //     });
      //   document.querySelector(".cat-3d__top__description").addEventListener("click", ()=> {
      //     gsap.to(path, {
      //       strokeDashoffset: 0,       // 🪄 Dévoile le chemin
      //       duration: 2,
      //       ease: "power2.out",
      //       delay: 0.3,
      //     });
      //   });

      // })
    </script>
  </body>
</html>
